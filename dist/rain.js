angular.module("rainMenu",[]),function(){function e(){return{restrict:"AE",require:"^rainMenu",transclude:!0,scope:{label:"@",icon:"@",route:"@"},templateUrl:"rainModules/rainMenu/rainMenuItem/rainMenuItemTemplate.html",link:n}}function n(e,n,i,r){e.isActive=function(){return n===r.getActiveElement()},e.isVertical=function(){return r.isVertical()},n.on("click",function(i){i.stopPropagation(),i.preventDefault(),e.$apply(function(){r.setActiveElement(n),r.setRoute(e.route),e.isVertical()||r.closeCurrentMenu()})})}angular.module("rainMenu").directive("rainMenuItem",e)}(),function(){function e(){return{restrict:"AE",require:"^rainMenu",transclude:!0,scope:{label:"@",icon:"@",route:"@"},templateUrl:"rainModules/rainMenu/rainMenuGroup/rainMenuGroupTemplate.html",link:n}}function n(e,n,i,r){function t(){var e=n.offset(),i=n.find(".r-menu-group-horizontal"),r=40;i&&(r=i.height()),n.find(".r-menu-sub-section").css({left:e.left+2,top:r+6})}e.isOpen=!1,e.closeMenu=function(){e.isOpen=!1},e.isActiveGroup=function(){return n===r.getActiveGroupElement()},e.clicked=function(){e.route&&r.setRoute(e.route),e.isOpen||r.closeCurrentMenu(),e.isOpen=!e.isOpen,e.isVertical()||t(),r.setOpenMenuScope(e)},e.isVertical=function(){return r.isVertical()},n.on("click",function(i){i.stopPropagation(),i.preventDefault(),e.$apply(function(){r.setActiveGroupElement(n),r.setRoute(e.route)})})}angular.module("rainMenu").directive("rainMenuGroup",e)}(),function(){var e=angular.module("rainGrid",[]),n={baseUrl:"rainModules/rainGrid/",version:"1.0.0"};e.value("rainGridConfig",n)}(),function(){function e(){return{restrict:"AE",templateUrl:"rainModules/rainGrid/rainGridMenu/rainGridMenuTemplate.html",replace:!1,scope:{filterData:"&",gridOptions:"="},controller:"rainGrid.menu.controller"}}angular.module("rainGrid").directive("rainGridMenu",[e])}(),function(){function e(e,n){function i(){t(),e.filters=[{col:{},constraint:{},expression:""}],r()}function r(){if(0===e.filters.length)e.hasFiltered=!1;else{var n=e.filters[0];e.hasFiltered=!!n.col&&!!n.constraint&&void 0!==n.expression&&""!==n.expression}}function t(){e.status={isOpen:!1},e.toggled=function(e){console.log("Dropdown is now: ",e)},e.toggleDropdown=function(n){n.preventDefault(),n.stopPropagation(),e.status.isOpen=!e.status.isOpen}}i(),e.doFilter=function(){var i=n.showFilterModal(e.gridOptions,e.filters);i.then(function(n){n.isCancel||(e.filters=n.filters,r(),e.filterData({filters:e.filters}))})},e.removeFilters=function(){e.filters=[{col:{},constraint:{},expression:""}],r(),e.filterData({filters:e.filters})}}angular.module("rainGrid").controller("rainGrid.menu.controller",["$scope","rainGridService",e])}(),function(){function e(e,n,i,r){function t(){r.filters.push({col:{},constraint:{},expression:""})}function l(e){_.remove(r.filters,function(n){return n.col.value===e.value}),0===r.filters.length&&r.filters.push({col:{},constraint:{},expression:""})}function a(){s(),e.close({filters:r.filters,isCancel:!1})}function o(){s(),e.close({filters:r.filters,isCancel:!0})}function s(){_.remove(r.filters,function(e){return!e.col||!e.constraint||void 0===e.expression||""===e.expression}),0===r.filters.length&&r.filters.push({col:{},constraint:{},expression:""})}r.columns=_.map(n,function(e){return{label:e.displayName,value:e.field,isNumber:e.isNumber,isCurrency:e.isCurrency,isBoolean:e.isBoolean||e.isCheckbox,isDate:e.isDate}}),r.filters=i,r.addFilter=t,r.deleteFilter=l,r.doFilter=a,r.doCancel=o}angular.module("rainGrid").controller("rainGrid.filterModal.controller",["$modalInstance","columnDefs","filters","$scope",e])}(),function(){function e(){return{restrict:"AE",templateUrl:"rainModules/rainGrid/rainGridFilterInput/rainGridFilterInputTemplate.html",replace:!1,scope:{filter:"=",columns:"=",deleteFilter:"&"},controller:"rainGrid.filterInput.controller"}}angular.module("rainGrid").directive("rainGridFilter",[e])}(),function(){function e(e,n){function i(){r(),t(e.filter.col),l(),e.isBool=e.filter.col.isBoolean}function r(){for(var n=-1,i=0;i<e.columns.length;i++)if(e.columns[i].value===e.filter.col.value){n=i;break}e.filter.col=-1===n?{}:e.columns[n]}function t(i){if(e.constraints=n.getFilterConstraintsByColumnType(i),e.filter.constraint){for(var r=-1,t=0;t<e.constraints.length;t++)if(e.constraints[t].value===e.filter.constraint.value){r=t;break}e.filter.constraint=-1===r?{}:e.constraints[r]}e.isBool=e.filter.col.isBoolean}function l(){e.boolValues=[{label:"true",value:!0},{label:"false",value:!1}]}i(),e.columnChanged=t,e.removeFilter=function(n){e.deleteFilter({col:n})}}angular.module("rainGrid").controller("rainGrid.filterInput.controller",["$scope","rainGridService",e])}(),function(){function e(){function e(e,n,i){e.value=e.gridCell,(e.isLink||e.isButton||e.isIcon)&&(e.linkFunc=function(){e.funcLink()})}return{restrict:"AE",templateUrl:"rainModules/rainGrid/rainGridCell/rainGridCellTemplate.html",replace:!1,scope:{gridCell:"=",isDate:"=",isCurrency:"=",isNumber:"=",isCheckbox:"=",isLink:"=",isButton:"=",isIcon:"=",isHidden:"=",decimal:"=",funcLink:"&"},link:e}}angular.module("rainGrid").directive("gridCell",[e])}(),angular.module("rainMenu").run(["$templateCache",function(e){e.put("rainModules/rainMenu/rainMenuTemplate.html",'<div class="r-menu-area animated fadeInLeft animation-half-second" ng-show="showMenu"\r\n     ng-class="{\'r-menu-area-horizontal\':!isVertical,\'r-menu-area-vertical\':isVertical,\r\n     \'r-menu-area-float\':isFloatVerticalMenu}">\r\n    <ul class="r-menu">\r\n        <div ng-transclude ng-class="{\'r-menu-vertical\':isVertical,\'r-menu-horizontal\':!isVertical}"></div>\r\n        <div class="r-menu-horizontal" ng-class="{\'pull-right\':isVertical}">\r\n            <a class="btn r-menu-layout-button" ng-click="toggleMenuOrientation()"\r\n               ng-show="allowHorizontalMenu"\r\n               ng-class="{\'r-menu-layout-button-horizontal\':!isVertical}">\r\n                <i class="fa" ng-class="{\'fa-chevron-up\':isVertical,\' fa-chevron-left\':!isVertical}"></i>\r\n            </a>\r\n        </div>\r\n    </ul>\r\n\r\n</div>'),e.put("rainModules/rainMenu/rainMenuGroup/rainMenuGroupTemplate.html",'<li class="r-selectable-item r-no-select" ng-click="clicked()"\r\n    ng-class="{\'r-menu-group-horizontal\':!isVertical(),\'isActiveGroup\':isActiveGroup()||isOpen}">\r\n    <div class="r-no-select group-title">\r\n        <i class="fa {{icon}} r-menu-icon"></i>\r\n        {{label}}\r\n    </div>\r\n    <i class="fa fa-angle-left  r-menu-group-indicator" ng-if="isVertical()"\r\n       ng-class="{\'fa-rotate-270\':isOpen}"></i>\r\n\r\n    <!--<div ng-show="isOpen" class="r-menu-sub-section r-menu-fade-in-animation" ng-class="{\'r-menu-popup\':!isVertical()}">-->\r\n    <div ng-show="isOpen" class="r-menu-sub-section animated fadeIn"\r\n         ng-class="{\'r-menu-popup\':!isVertical()}">\r\n        <ul ng-transclude></ul>\r\n    </div>\r\n</li>'),e.put("rainModules/rainMenu/rainMenuItem/rainMenuItemTemplate.html",'<li class="r-selectable-item r-no-select r-menu-item" ng-class="{\'r-menu-item-active\':isActive()}">\r\n    <div class="r-no-select">\r\n        <i class="fa {{icon}} r-menu-icon"></i>\r\n        {{label}}\r\n    </div>\r\n    <!--<i class="fa fa-2x fa-angle-left  r-menu-active-indicator" ng-if="isActive()"></i>-->\r\n</li>')}]),angular.module("rainGrid").run(["$templateCache",function(e){e.put("rainModules/rainGrid/_rainGridTemplate.html",'<div class="rain-grid-panel panel panel-success">\r\n    <div class="panel-heading">\r\n        <div class="clearfix">\r\n            <div class="pull-left" style="margin-top: 4px;">\r\n                <i class="fa fa-arrow-circle-up" style="font-size: 18px;" ng-show="sortOrder===\'ASC\'"></i>\r\n                <i class="fa fa-arrow-circle-down" style="font-size: 18px;" ng-show="sortOrder===\'DSC\'"></i>\r\n                <i class="fa fa-file-o " style="font-size: 18px;" ng-show="!sortOrder"></i>\r\n                <span style="margin-left: 5px;font-weight: bold;">{{title}}</span>\r\n                <span style="color: #F0CF23;font-weight: bold;">({{rowCount}})</span>\r\n            </div>\r\n            <div class="rain-page pull-right">\r\n                <div class="clearfix">\r\n\r\n                    <div class="pull-left" ng-if="showToolMenu">\r\n                        <div rain-grid-menu filter-data="filterData(filters)" grid-options="gridOptions"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="panel-body">\r\n        <table class="table table-striped table-bordered table-hover table-condensed rain-grid-table">\r\n            <tbody>\r\n            <tr>\r\n                <th ng-repeat="field in header" ng-click="sortingChanged(field.fieldName)"\r\n                    ng-class="{dsc:field.fieldName===sortField&&sortOrder===\'DSC\',\r\n                            asc:field.fieldName===sortField&&sortOrder===\'ASC\'}"\r\n                    ng-if="!field.isHidden">\r\n                    <span>\r\n                        {{field.displayName}}\r\n                    </span>\r\n                </th>\r\n            </tr>\r\n            <tr ng-repeat="row in list" ng-click="selectRow(row)" ng-class="{\'row-selected\':row.rowSelected}">\r\n                <td ng-repeat="field in row.rowData" ng-if="!field.isHidden">\r\n                    <div>\r\n                        <div style="display: inline;" ng-class="{\'cell-center\':field.isButton}"\r\n                             grid-cell="field.value"\r\n                             is-date="field.isDate"\r\n                             is-checkbox="field.isCheckbox"\r\n                             is-currency="field.isCurrency"\r\n                             is-number="field.isNumber"\r\n                             is-link="field.isLink"\r\n                             is-button="field.isButton"\r\n                             is-icon="field.isIcon"\r\n                             is-hidden="field.isHidden"\r\n                             decimal="field.decimal"\r\n                             func-link="linkTo(row.rowData,field.linkFunc.funcEvent,field.linkFunc.funcIdField)">\r\n                            <!--{{field.value}}-->\r\n                        </div>\r\n                        <div class="pull-right fa fa-remove action-button" style="margin: 0;"\r\n                             ng-if="showDeleteButton && field.order == actionButtonPlace" ng-click="deleteRecord(row)">\r\n                        </div>\r\n                        <div class="pull-right fa fa-pencil-square-o action-button" style="margin: 0;"\r\n                             ng-if="showEditButton && field.order == actionButtonPlace" ng-click="editRecord(row)">\r\n                        </div>\r\n                    </div>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n        <div class="col-xs-12 rain-grid-pagination">\r\n            <!--<div class="clearfix cellphone page-count">\r\n                <div class="pull-left" style="margin: 5px 5px 5px 0;">\r\n                    <span style="margin-right: 5px;">Count:</span>\r\n                    <span style="color: #337AB7;font-weight: bold;">{{rowCount}}</span>\r\n                </div>\r\n            </div>-->\r\n            <div class="clearfix cellphone-hide page-size" ng-show="enablePage">\r\n                <div class="pull-left">\r\n                    <div class="clearfix">\r\n                        <div class="pull-left" style="margin: 5px 5px 0 0;">Page size:</div>\r\n                        <div class="pull-left">\r\n                            <select class="form-control input-sm" ng-model="pageSize" style=""\r\n                                    ng-change="pageSizeChanged(pageSize)"\r\n                                    ng-options="size as size.label for size in pageSizes">\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="clearfix" style="display: inline-block;height: 30px;">\r\n                <div class="pull-left" ng-show="enablePage">\r\n                    <pagination total-items="rowCount" ng-model="currentPage" max-size="maxSize"\r\n                                class="pagination-sm" boundary-links="true" rotate="false"\r\n                                first-text="<<" previous-text="<" next-text=">" last-text=">>"\r\n                                items-per-page="pageSize.value" ng-change="pageChanged()">\r\n                    </pagination>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n'),e.put("rainModules/rainGrid/rainGridCell/rainGridCellTemplate.html",'<div ng-if="isCheckbox" rain-checkbox="value" readonly="true" style="padding-right: 10px;"></div>\r\n\r\n<span ng-if="isLink">\r\n    <a ng-click="linkFunc()">{{value}}</a>\r\n</span>\r\n\r\n<div style="display: inline-block;" ng-if="isButton">\r\n    <a class="btn btn-primary btn-xs" ng-click="linkFunc()">{{value}}</a>\r\n</div>\r\n\r\n<div style="display: inline-block;" ng-if="isIcon">\r\n    <a class="btn btn-xs" style="font-size: 14px;" ng-click="linkFunc()">\r\n        <span class="{{value}}"></span>\r\n    </a>\r\n</div>\r\n\r\n<div class="clearfix" ng-if="isCurrency">\r\n    <div class="pull-right">\r\n        {{value|currency}}\r\n    </div>\r\n</div>\r\n\r\n<div class="clearfix" ng-if="isDate">\r\n    <div class="pull-right">\r\n        {{value|date: \'yyyy-MM-dd\'}}\r\n    </div>\r\n</div>\r\n\r\n<div class="clearfix" ng-if="isNumber">\r\n    <div class="pull-right">\r\n        <span ng-if="decimal==1">{{value|number:1}}</span>\r\n        <span ng-if="decimal==2">{{value|number:2}}</span>\r\n        <span ng-if="decimal==3">{{value|number:3}}</span>\r\n        <span ng-if="decimal==4">{{value|number:4}}</span>\r\n        <span ng-if="!decimal || decimal > 4">{{value}}</span>\r\n    </div>\r\n</div>\r\n\r\n<span ng-if="!isCheckbox && !isLink && !isButton && !isCurrency && !isNumber && !isDate && !isHidden && !isIcon">\r\n    {{value}}\r\n</span>\r\n\r\n'),e.put("rainModules/rainGrid/rainGridFilterInput/rainGridFilterInputTemplate.html",'<form name="formFilter" class="form-horizontal rain-grid-filter">\r\n    <div class="well well-sm">\r\n        <div class="row filter-row">\r\n                <div class="col-sm-4">\r\n                    <select class="form-control input-sm" ng-model="filter.col" ng-change="columnChanged(filter.col)"\r\n                            ng-options="colDef as colDef.label for colDef in columns">\r\n                    </select>\r\n                </div>\r\n                <div class="col-sm-3">\r\n                    <select class="form-control input-sm" ng-model="filter.constraint"\r\n                            ng-options="con as con.label for con in constraints">\r\n                    </select>\r\n                </div>\r\n                <div class="col-sm-3" ng-if="!isBool">\r\n                    <input type="text" class="form-control input-sm" ng-model="filter.expression">\r\n                </div>\r\n                <div class="col-sm-3" ng-if="isBool">\r\n                    <select class="form-control input-sm" ng-model="filter.expression"\r\n                            ng-options="bool.value as bool.label for bool in boolValues">\r\n                    </select>\r\n                </div>\r\n                <div class="col-sm-1" style="padding-top: 3px;">\r\n                    <button class="btn btn-warning btn-xs" ng-click="removeFilter(filter.col)">\r\n                        <i class="glyphicon glyphicon-minus"></i>\r\n                    </button>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n'),e.put("rainModules/rainGrid/rainGridFilterModal/rainGridFilterModalTemplate.html",'<div>\r\n    <div class="modal-header">\r\n        <div style="display:inline-block;margin-left: 10px;font-size: 16px;font-weight: bold;">Filters</div>\r\n        <div class="pull-right">\r\n            <button class="btn btn-sm btn-success" ng-click="addFilter()">\r\n                <i class="glyphicon glyphicon-plus "></i>Add filter\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div style="margin:10px;padding-right: 10px;">\r\n\r\n        <div>\r\n            <div ng-repeat="filter in filters">\r\n                <div rain-grid-filter filter="filter" columns="columns" delete-filter="deleteFilter(col)"></div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-primary" ng-click="doFilter()">Filter</button>\r\n        <button class="btn btn-warning" ng-click="doCancel()">Cancel</button>\r\n    </div>\r\n</div>'),e.put("rainModules/rainGrid/rainGridMenu/rainGridMenuTemplate.html",'<div class="rain-grid-menu">\r\n    <div class="btn-group" dropdown is-open="status.isOpen">\r\n        <i class="fa fa-cog  dropdown-toggle" style="font-size: 23px;margin-left: 10px;"\r\n           dropdown-toggle ng-disabled="disabled"></i>\r\n        <ul class="dropdown-menu" role="menu" >\r\n            <li>\r\n                <a ng-click="doFilter()">\r\n                    <i class="glyphicon glyphicon-filter menu-item-icon" style="margin-right: 5px;color: #337AB7;"></i>\r\n\r\n                    <div style="display: inline-block;">Filter</div>\r\n                </a>\r\n            </li>\r\n            <li ng-if="hasFiltered">\r\n                <a href="#" ng-click="removeFilters()">\r\n                    <i class="fa fa-times menu-item-icon" ></i>\r\n\r\n                    <div style="display: inline-block;">Remove Filters</div>\r\n                </a>\r\n            </li>\r\n            <li class="divider" style="border-width: 0;"></li>\r\n            <li>\r\n                <a>\r\n                    <i class="fa fa-file-excel-o menu-item-icon" style="color: green;"></i>\r\n                    <span>Export To Excel</span>\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a>\r\n                    <i class="fa fa-file-pdf-o menu-item-icon" style="color: red;"></i>\r\n                    <span>Export To PDF</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n\r\n</div>\r\n\r\n')}]),angular.module("rainFramework",["rainMenu"]),angular.module("rainFramework").run(["$templateCache",function(e){e.put("rainModules/rainFramework/rainFrameworkTemplate.html",'<div class=r-title-bar><div class=row><div class="r-logo-area col-xs-7"><img ng-src={{iconFile}} alt class=r-icon><div class=r-title-area><p class=r-logo-title>{{headerTitle}}</p><p class=r-logo-subtitle>{{headerSubTitle}}</p></div></div><div class="r-right-side-controls col-xs-5"><div class=pull-right><div><div style="text-align: right;margin-right: 10px;display: inline-block;"><div class="cellphone-hide welcome">Welcome <strong>{{username}}!</strong></div><a class="btn-logout r-nav-button" ng-click=logout()><i class="fa fa-sign-out"></i></a></div><div ng-if=isMenuButtonVisible class=r-collapsed-menu><a class=r-nav-button ng-click=menuButtonClicked()><i class="fa fa-bars"></i></a></div></div></div></div></div></div><div ng-transclude></div><div ng-switch=routerName class=rain-view ng-class="{\'rain-view-full-width\':isFullWidth()}"><div ng-switch-when=NGNEWROUTER><ng-viewport>{{routeString}}</ng-viewport></div><div ng-switch-when=UIROUTER><div ui-view></div></div><div ng-switch-default><div ng-view>{{routeString}}</div></div></div>')}]),function(){angular.module("rainService",[])}(),function(){function e(e,n){function i(i){return n(function(){return e.get(i.url).then(function(e){return e.data})},200)}function r(n,i){return e.get(n.url+"/"+i).then(function(e){return e.data})}function t(n,i){return e["delete"](n.url+"/"+i).then(function(e){return e.data})}function l(n,i){return e["delete"](n.url+"?"+i).then(function(e){return e.data})}function a(n,i){return e.post(n.url,i).then(function(e){return e.data})}return{getDataList:i,getDataById:r,deleteDataById:t,deleteDataByQueryString:l,addOrUpdateData:a}}var n=angular.module("rainService");n.factory("rainService.repository",["$http","$timeout",e])}(),function(){function e(e,i){function r(r,t,l){var a={header:{"Content-Type":"application/x-www-form-urlencoded"}},o=n({username:t,password:l,grant_type:"password"});return e.post(r,o,a).then(function(e){return i.setProfile(t,e.data.access_token),e},function(e){return e})}function t(){i.logout()}function l(e,n,i){var r="";return i&&(r="&role="+i.key.trim()),"username="+e.trim()+"&password="+n.trim()+r}function a(e){var n=o(e);return n}function o(e){var n,i,r,t,l={};for(n=e.split("&"),r=0,t=n.length;t>r;r++)i=n[r].split("="),l[i[0]]=i[1];return l}return{login:r,logout:t,token:{createToken:l,decryptToken:a}}}function n(e){var n=[];for(var i in e)n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.join("&").replace(/%20/g,"+")}var i=angular.module("rainService");i.factory("rainService.oauth",["$http","rainService.currentUser",e])}(),function(){function e(e){function n(e,n){n=angular.toJson(n),t.setItem(e,n)}function i(e){var n=t.getItem(e);return n&&(n=angular.fromJson(n)),n}function r(e){t.removeItem(e)}var t=e.localStorage;return{add:n,get:i,remove:r}}angular.module("rainService").factory("rainService.localStorage",["$window",e])}(),function(){function e(e,n){var i=function(i){return n.profile.loggedIn&&(i.headers.Authorization="Bearer "+n.profile.token),e.when(i)};return{request:i}}function n(e,n,i){var r=function(r){return(401==r.status||403==r.status)&&n.$broadcast("AUTHENTICATION_EVENT",{statusCode:r.status,requestedPath:i.path(),eventSource:"rainService.loginRedirect.responseError"}),e.reject(r)};return{responseError:r}}var i=angular.module("rainService");i.factory("rainService.addToken",["$q","rainService.currentUser",e]),i.factory("rainService.loginRedirect",["$q","$rootScope","$location",n]),i.config(["$httpProvider",function(e){e.interceptors.push("rainService.addToken")}]),i.config(["$httpProvider",function(e){e.interceptors.push("rainService.loginRedirect")}])}(),function(){function e(e){function n(n,r,t){function l(e,n){e.ok=function(){t&&angular.isFunction(t)&&t(),n.close(!0)},e.cancel=function(){n.close(!1)}}n=n||"Confirm",r=r||"Are you sure?";var a=e.open({template:i(n,r),controller:["$scope","$modalInstance",l]});return a.result}function i(e,n){return'<div class="modal-header"><h3 class="modal-title">'+e+'</h3></div><div class="modal-body"><p style="font-size: 16px;">'+n+'</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">Yes</button><button class="btn btn-warning" ng-click="cancel()">No</button></div>'}function r(n,i,r){function l(e,n){e.ok=function(){r&&angular.isFunction(r)&&r(),n.close(!0)}}n=n||"Information",i=i||"<p></p>";var a=e.open({template:t(n,i),controller:["$scope","$modalInstance",l]});return a.result}function t(e,n){return'<div class="modal-header"><h3 class="modal-title">'+e+'</h3></div><div class="modal-body">'+n+'</div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">Close</button></div>'}return{confirmModal:n,messageModal:r}}angular.module("rainService").factory("rainService.dialog",["$modal",e])}(),function(){function e(e){function n(n,i){l.username=n,l.token=i,e.add(t,l)}function i(){var n={username:"",token:"",get loggedIn(){return!!this.token}},i=e.get(t);return i&&(n.username=i.username,n.token=i.token),n}function r(){l.username="",l.token="",e.remove(t)}var t="tokenKey",l=i();return{setProfile:n,profile:l,logout:r}}angular.module("rainService").factory("rainService.currentUser",["rainService.localStorage",e])}(),function(){function e(){return{restrict:"EA",require:"ngModel",link:function(e,n,i,r){e.$watch(i.ngModel,function(e,n){if(e){var t=String(e).split("");if(0!==t.length&&(1!==t.length||"-"!=t[0]&&"."!==t[0])&&(2!==t.length||"-."!==e)){if(t.indexOf(".")>0){var l=i.numberOnly;["0","1","2","3","4","5"].indexOf(l)>=0&&(l=parseInt(l),t.length-t.indexOf(".")>l+1&&(r.$setViewValue(n),r.$render()))}isNaN(e)&&(r.$setViewValue(n),r.$render())}}})}}}var n=angular.module("rainNumberOnly",[]);n.directive("numberOnly",e)}(),function(){function e(e){function n(e,n,i){}return{restrict:"AE",transclude:!0,scope:{horizontalMenu:"="},controller:"rainMenu.controller",templateUrl:"rainModules/rainMenu/rainMenuTemplate.html",link:n}}angular.module("rainMenu").directive("rainMenu",["$timeout",e])}(),function(){function e(e,n){function i(n){r(n),t(),l&&e.toggleMenuOrientation()}function r(i){i.setActiveElement=function(n){e.activeElement=n},i.getActiveElement=function(){return e.activeElement},i.setActiveGroupElement=function(n){e.activeGroupElement=n},i.getActiveGroupElement=function(){return e.activeGroupElement},i.isVertical=function(){return e.isVertical},i.setOpenMenuScope=function(n){e.openMenuScope=n},i.closeCurrentMenu=function(){e.openMenuScope&&e.openMenuScope.closeMenu()},i.setRoute=function(e){e&&n.$broadcast("rain-menu-item-selected-event",{route:e})}}function t(){e.$on("rain-menu-show",function(n,i){e.showMenu=i.show,e.isVertical=i.isVertical,e.allowHorizontalMenu=i.allowHorizontalMenu,e.isFloatVerticalMenu=i.isFloatVerticalMenu}),e.toggleMenuOrientation=function(){e.isVertical=!e.isVertical,n.$broadcast("rain-menu-orientation-changed-event",{isMenuVertical:e.isVertical})},angular.element(document).bind("click",function(n){if(e.openMenuScope&&!e.isVertical){if($(n.target).parent().hasClass("r-selectable-item"))return;e.$apply(function(){e.openMenuScope.closeMenu()}),n.preventDefault(),n.stopPropagation()}})}var l=e.horizontalMenu;e.showMenu=!0,e.isVertical=!0,e.openMenuScope=null,e.allowHorizontalMenu=!0;var a=this;i(a)}angular.module("rainMenu").controller("rainMenu.controller",["$scope","$rootScope",e])}(),function(){function e(){return{transclude:!0,scope:{headerTitle:"@",headerSubTitle:"@",iconFile:"@",router:"@"},controller:"rainFramework.controller",templateUrl:"rainModules/rainFramework/rainFrameworkTemplate.html"}}angular.module("rainFramework").directive("rainFramework",e)}(),function(){function e(e,i,r,t,l,a){function o(){s(),r(function(){f()},0)}function s(){e.$on("rain-menu-item-selected-event",function(n,i){e.routeString=i.route,e.routeString&&d(e.routeString),f()}),e.$on("rain-menu-orientation-changed-event",function(n,i){e.isMenuVertical=i.isMenuVertical}),$(i).on("resize.rainFramework",function(){e.$apply(function(){f()})}),$(i).on("$destroy",function(){$(i).off("resize.rainFramework")}),e.menuButtonClicked=function(){e.isVerticalMenuVisible=!e.isVerticalMenuVisible;var r=Math.max(i.innerWidth,$(i).width());e.isMenuVertical=n>=r,c()}}function c(){t.$broadcast("rain-menu-show",{show:e.isVerticalMenuVisible,isVertical:e.isMenuVertical,isFloatVerticalMenu:e.isFloatVerticalMenu,allowHorizontalMenu:!e.isMenuButtonVisible})}function u(){a.logout(),e.$emit("AUTHENTICATION_EVENT",{statusCode:401,eventSource:"rainFramework.controller.logout"})}function d(e){t.$broadcast("rain-change-route-event",{route:e})}function f(){var r=Math.max(i.innerWidth,$(i).width());e.isVerticalMenuVisible=r>n,e.isFloatVerticalMenu=n>=r,e.isMenuButtonVisible=!e.isVerticalMenuVisible,c()}e.isMenuButtonVisible=!0,e.isVerticalMenuVisible=!0,e.isMenuVertical=!0,e.routerName=e.router.trim().toUpperCase(),e.username=l.profile.username,e.logout=u,e.isFullWidth=function(){return!e.isMenuVertical||!e.isVerticalMenuVisible||e.isFloatVerticalMenu},o()}angular.module("rainFramework").controller("rainFramework.controller",["$scope","$window","$timeout","$rootScope","rainService.currentUser","rainService.oauth",e]);var n=768}(),function(){function e(){return{restrict:"AE",templateUrl:"rainModules/rainGrid/_rainGridTemplate.html",replace:!1,scope:{rainGrid:"="},controller:"rainGrid.controller"}}angular.module("rainGrid").directive("rainGrid",[e])}(),function(){function e(e,n,i){function r(){t(),e.gridOptions.data.then(function(e){l(e)})}function t(){e.gridOptions={enablePage:!0,pageSize:10,selectable:!1,showToolMenu:!0},e.gridOptions=_.assign(e.gridOptions,e.rainGrid),e.selectable=e.gridOptions.selectable,e.actionButtonPlace=0,e.showToolMenu=e.gridOptions.showToolMenu,e.title=e.gridOptions.title,a()}function l(n){e.gridOptions.dataList=n,e.gridData=u(e.gridOptions),e.sortField=null,e.sortOrder=null,e.currentPage=1,o(),s(e.gridData),i.modifyPaginationIcons()}function a(){if(e.gridOptions.deleteLink&&e.gridOptions.deleteLink.enable){if(e.showDeleteButton=!0,e.gridOptions.deleteLink.place)e.actionButtonPlace=e.gridOptions.deleteLink.place;else for(var n=0;n<e.gridOptions.columnDefs.length;n++)if(!e.gridOptions.columnDefs[n].isHidden){e.actionButtonPlace=n;break}e.deleteEvent=e.gridOptions.deleteLink.funcEvent,e.deleteEventIdField=e.gridOptions.deleteLink.funcIdField}if(e.gridOptions.editLink&&e.gridOptions.editLink.enable){if(e.showEditButton=!0,e.gridOptions.editLink.place)e.actionButtonPlace=e.gridOptions.editLink.place;else for(var i=0;i<e.gridOptions.columnDefs.length;i++)if(!e.gridOptions.columnDefs[i].isHidden){e.actionButtonPlace=i;break}e.editEvent=e.gridOptions.editLink.funcEvent,e.editEventIdField=e.gridOptions.editLink.funcIdField}}function o(){if(e.enablePage=e.gridOptions.enablePage,e.currentPage=1,e.maxSize=2,e.pageSizes=[{label:" 5",value:5},{label:"10",value:10},{label:"15",value:15},{label:"20",value:20}],e.pageSize=e.pageSizes[1],e.gridOptions.pageSize){var n=_.find(e.pageSizes,function(n){return n.value==e.gridOptions.pageSize});n&&(e.pageSize=n)}}function s(n){e.currentPage=1,g=0,v=null,d=n.rows,e.header=n.header,e.rowCount=d.length,e.enablePage=e.gridOptions.enablePage&&e.rowCount>e.pageSizes[0].value,f=d,c(f)}function c(n){if(!e.enablePage)return e.list=n,e.list;var r=i.getDataListByPage(n,e.currentPage,e.pageSize.value);return r&&(e.list=r,angular.forEach(e.list,function(n){n.rowSelected&&n!=e.selectedRow&&(n.rowSelected=!1)})),e.list}function u(n){var r=i.buildGridData(n);return r.rows.length>0&&r.rows[0].rowSelected&&(e.selectedRow=r.rows[0]),r}e.gridOptions={};var d=[],f=[],p=[null,"ASC","DSC"],g=0,v=null,m=!1,h=[];e.$watch("rainGrid.data",function(){r()}),r(),e.filterData=function(n){f=i.filterData(d,n),m=n.length>0&&!!n[0].col,m&&(h=f),e.rowCount=f.length,e.enablePage=e.gridOptions.enablePage&&e.rowCount>e.pageSizes[0].value,e.sortField=null,e.sortOrder=null,e.currentPage=1,c(f)},e.linkTo=function(e,i,r){var t=_.find(e,function(e){return e.fieldName===r});if(t){var l=t.value;n.$broadcast(i,{id:l})}},e.pageSizeChanged=function(n){e.currentPage=1,c(f)},e.pageChanged=function(){c(f)},e.sortingChanged=function(n){v!==n?g=1:(g+=1,g>2&&(g=0)),v=n,e.sortField=n,e.sortOrder=p[g];var r=m?h:d;f=i.sortData(r,p,v,g),c(f)},e.selectRow=function(i){if(e.selectable){var r=i.rowSelected;if(angular.forEach(e.list,function(e){e.rowSelected=!1}),i.rowSelected=!r,i.rowSelected&&(e.selectedRow=i),i.rowSelected&&e.gridOptions.rowSelectedEvent){var t=e.gridOptions.rowSelectedEvent.funcEvent;n.$broadcast(t,{id:i.id})}}},e.deleteRecord=function(i){if(e.deleteEvent&&e.deleteEventIdField){var r=_.find(i.rowData,function(n){return n.fieldName==e.deleteEventIdField});if(r){var t=r.value;n.$broadcast(e.deleteEvent,{id:t})}}},e.editRecord=function(i){if(e.editEvent&&e.editEventIdField){var r=_.find(i.rowData,function(n){return n.fieldName==e.editEventIdField});if(r){var t=r.value;n.$broadcast(e.editEvent,{id:t})}}}}angular.module("rainGrid").controller("rainGrid.controller",e),e.$inject=["$scope","$rootScope","rainGridService"]}(),function(){function e(e,n,i){function r(n,i){var r=_.find(n.row,function(e){return e.fieldName===n.funcIdField});if(r){var t=r.value,l=n.funcName+"("+t+")",a=e(l);a(i)}}function t(e,n,i){if(!e||0>=n)return null;try{var r=(n-1)*i,t=_.slice(e,r,r+i);return t?t:null}catch(l){return console.log(l.message),null}}function l(e){var n=[];return angular.forEach(e,function(e){n.push({fieldName:e.field,displayName:e.displayName,
isHidden:e.isHidden})}),n}function a(e){var n=e.dataList,i=e.columnDefs,r=null,t=null,a={rows:[],header:l(i)};return 0==n.length?a:(a.rows=_.map(n,function(n){var l=[];if(i){r=e.idField,r&&(t=n[e.idField]);for(var a=0;a<i.length;a++){var o=i[a];l.push({id:n[e.idField],fieldName:o.field,value:n[o.field]||o.field,displayName:o.displayName,isCheckbox:o.isCheckbox,isCurrency:o.isCurrency,isNumber:o.isNumber,decimal:o.decimal,isLink:o.isLink,isButton:o.isButton,isIcon:o.isIcon,isDate:o.isDate,isHidden:o.isHidden||!1,linkFunc:o.linkFunc||{funcName:"",funcIdField:""},order:a})}}else for(var s in n)n.hasOwnProperty(s)&&l.push({fieldName:s,value:n[s],displayName:s});return{rowData:l,rowSelected:!1,idField:r,id:t}}),e.selectFirstRow&&a.rows.length>0&&(a.rows[0].rowSelected=!0),a)}function o(e,n,i,r){var t=n[r];if(!i||!t)return e;var l=_.sortBy(e,function(e){for(var n=e.rowData,r=null,t=0;t<n.length;t++)if(n[t].fieldName===i)return r=n[t].value});return t===n[1]?l:l.reverse()}function s(){$('ul.pagination a:contains("<<"):first').html("<i class='fa fa-angle-double-left page-arrow'></i>"),$('ul.pagination a:contains(">>"):first').html("<i class='fa fa-angle-double-right page-arrow'></i>"),$('ul.pagination a:contains("<"):first').html("<i class='fa fa-angle-left page-arrow'></i>"),$('ul.pagination a:contains(">"):first').html("<i class='fa fa-angle-right page-arrow'></i>")}function c(e,i){var r=n.open({templateUrl:f+"rainGridFilterModal/rainGridFilterModalTemplate.html",controller:"rainGrid.filterModal.controller",resolve:{columnDefs:function(){return e.columnDefs},filters:function(){return i}}});return r.result}function u(e){var n=[],i="text";switch(e.isNumber||e.isCurrency?i="number":e.isBoolean?i="bool":e.isDate&&(i="date"),i){case"number":n=[{label:"equal to",value:"equalTo"},{label:"greater than",value:"greaterThan"},{label:"less than",value:"lessThan"}];break;case"bool":n=[{label:"equal to",value:"equalTo"}];break;case"date":n=[{label:"equal to",value:"equalTo"},{label:"greater than",value:"greaterThan"},{label:"less than",value:"lessThan"}];break;default:n=[{label:"equal to",value:"equalTo"},{label:"greater than",value:"greaterThan"},{label:"less than",value:"lessThan"},{label:"contains",value:"contains"},{label:"starts with",value:"startsWith"}]}return n}function d(e,n){var i=[];return i=0!==n.length&&n[0].col?_.filter(e,function(e){for(var i=e.rowData,r=!0,t=0;t<i.length;t++){for(var l=i[t],a=0;a<n.length;a++){var o=n[a],s=o.col.value,c=o.constraint.value,u=o.expression;if(l.fieldName===s){switch(c){case"equalTo":r=r&&l.value==u;break;case"greaterThan":r=r&&l.value>u;break;case"lessThan":r=r&&l.value<u;break;case"contains":r=r&&l.value.indexOf(u)>=0;break;case"startsWith":r=r&&0===l.value.indexOf(u)}if(!r)break}}if(!r)break}return r}):e}var f=i.baseUrl;return{baseUrl:f,rainGridLinkFunc:r,modifyPaginationIcons:s,getDataListByPage:t,buildGridData:a,sortData:o,showFilterModal:c,getFilterConstraintsByColumnType:u,filterData:d}}angular.module("rainGrid").factory("rainGridService",["$parse","$modal","rainGridConfig",e])}(),function(){angular.module("rainForm",[])}(),function(){function e(e){return{restrict:"A",require:"^form",link:l(e)}}var n=angular.module("rainForm");n.directive("formInput",e),e.$inject=["$compile"];var i=function(e,n){return function(){return n&&e[n]?e.$submitted?e[n].$invalid:e[n].$dirty?e[n].$invalid:!1:void 0}},r=function(e){return function(n){n?(e.addClass("has-error"),e.find(".help-block").show()):(e.removeClass("has-error"),e.find(".help-block").hide())}},t=function(e,n,i){if(e.hasClass("form-group")||0!==e.find(".form-group").length)e.addClass("form-group-sm");else{var r=e.html(),t='<div class="form-group form-group-sm">'+r+"</div>";e.html(n(t)(i))}var l=e[0].querySelector("label");l&&l.classList.add("control-label");var a=e[0].querySelector("input, textarea, select,[ng-model]");if(a){var o=a.getAttribute("type"),s=a.getAttribute("name");return"checkbox"!==o&&"radio"!==o&&a.classList.add("form-control"),s}},l=function(e){return function(n,l,a,o){var s=t(l,e,n);n.$watch(i(o,s),r(l))}}}(),function(){function e(){return{restrict:"AE",template:r(),replace:!1,scope:{rainCheckbox:"=",text:"@",readonly:"=",onChanging:"&"},controller:["$scope",n],link:i}}function n(e){e.onclick=function(){e.readonly!==!0&&(e.rainCheckbox=!e.rainCheckbox,e.onChanging())}}function i(e,n){function i(){var i=n.find("input:checkbox+label");e.readonly===!0?i.addClass("readonly"):i.removeClass("readonly")}i(),e.$watch("readonly",function(){i()})}function r(){return'<div class="rain-checkbox-container"><div class="checkbox-image"><div  class="rain-checkbox"><input type="checkbox" ng-model="rainCheckbox" style="display: inline;"/><label class="checkbox-label" ng-click="onclick()"></label></div></div><div class="checkbox-text">{{text}}</div></div>'}var t=angular.module("rainCheckbox",[]);t.directive("rainCheckbox",[e])}();